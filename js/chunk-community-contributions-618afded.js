System.register(["./chunk-vendor.js","./chunk-linear.js","./chunk-time.js","./chunk-tip.js","./chunk-frameworks.js","./chunk-array.js","./chunk-extent.js","./chunk-axis.js","./chunk-line.js"],function(){"use strict";var k,j,w,$,F,L,T,_,m,z,C,h,g,D;return{setters:[function(t){k=t.t,j=t.c},function(t){w=t.s,$=t.m,F=t.l},function(t){L=t.s},function(t){T=t.d},function(t){_=t.aT},function(t){m=t.u,z=t.t},function(t){C=t.e},function(t){h=t.a,g=t.b},function(t){D=t.l}],execute:function(){var t=Object.defineProperty,H=Object.getOwnPropertyDescriptor,y=(r,s)=>t(r,"name",{value:s,configurable:!0}),P=(r,s,c,l)=>{for(var e=l>1?void 0:l?H(s,c):s,d=r.length-1,n;d>=0;d--)(n=r[d])&&(e=(l?n(s,c,e):n(e))||e);return l&&e&&t(s,c,e),e};async function S(r){return await await _(r,{headers:{accept:"application/json"}})}y(S,"fetchData");let p=class extends HTMLElement{async connectedCallback(){const r=this.graph,s=r.getAttribute("data-url");if(!!s){r.classList.add("is-graph-loading"),r.classList.remove("is-graph-load-error","is-graph-empty");try{const c=await S(s);r.classList.remove("is-graph-loading");const l=await c.json();new ResizeObserver(d=>{for(const n of r.querySelectorAll("svg.viz"))n.remove();for(const n of d)n.target===r&&O(r,l)}).observe(r)}catch(c){if(r.classList.remove("is-graph-loading"),c.message==="HTTP 404Not Found")r.classList.add("is-graph-empty");else throw r.classList.add("is-graph-load-error"),c}}}};y(p,"CommunityContributionsGraphElement"),P([k],p.prototype,"graph",2),p=P([j],p);function O(r,s){const c=r.clientWidth,l=r.clientHeight,e={top:50,right:20,bottom:40,left:50},d=c-e.left-e.right,n=l-e.top-e.bottom,E=m("%B %-d %Y"),V=m("%-m/%-d"),x=T().attr("class","svg-tip").offset([-10,0]).html(function(a){return`<strong>${E(a.date)}</strong><br>${a.value} ${a.type} created`}),i=w(r).append("svg").attr("class","viz").attr("width",c).attr("height",l).attr("alt","A graph of added discussions, issues, and pull requests on this repository").attr("aria-describedby","community-contributions-description").append("g").attr("transform",`translate(${e.left},${e.top})`).call(x);let v="";for(const a of s){v+=`${a.name}: `;for(const o of a.data)v+=`${o.value} on ${V(o.date)} `}i.append("div").attr("text",v).attr("style","display: none;").attr("id","community-contributions-description");for(const a of s)i.append("line").attr("x1",e.right+a.delta).attr("y1",-e.top/2).attr("x2",e.right+16+a.delta).attr("y2",-e.top/2).attr("class",a.class),i.append("text").attr("x",e.right+21+a.delta).attr("y",-e.top/2+5).attr("class","legend-text").text(a.name);const[q,B]=C(s[0].data,a=>a.date);let b=0;for(const a of s)b=Math.max($(a.data,o=>o.value)||-1/0,b);const A=s[0].data.map(a=>a.date),u=L().domain([q,B]).range([0,d]);i.append("g").attr("transform",`translate(0, ${n})`).attr("class","tick-labels-x").call(h(u).tickSize(0).tickValues(A).tickFormat(z("%-m/%-d")));const f=F().domain([0,b]).range([n,0]);i.append("g").attr("class","tick-labels-y").call(g(f).ticks(4).tickSize(0)),i.append("g").attr("class","tick-y").call(g(f).ticks(4).tickSize(-d).tickFormat(()=>"")),i.append("g").attr("class","tick-x").attr("transform",`translate(0,${n})`).call(h(u).tickValues(A.slice(0,-1)).tickSize(-n).tickFormat(()=>"")),i.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",d/2).attr("y",l-e.top).text("Timeline"),i.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("x",-n/2).attr("y",-e.bottom-10).attr("dy","0.71em").style("text-anchor","middle").text("Quantity");for(const a of s)i.append("path").datum(a.data).attr("class",a.class).attr("d",D().x(function(o){return u(o.date)}).y(function(o){return f(o.value)}));for(const a of s)i.append("g").selectAll("dot").data(a.data).enter().append("circle").attr("cx",function(o){return u(o.date)}).attr("cy",function(o){return f(o.value)}).attr("r",5).attr("class",a.class).on("mouseover",x.show).on("mouseout",x.hide)}y(O,"render")}}});
//# sourceMappingURL=chunk-community-contributions-827df997.js.map
