System.register(["./chunk-vendor.js","./chunk-linear.js","./chunk-time.js","./chunk-tip.js","./chunk-frameworks.js","./chunk-array.js","./chunk-extent.js","./chunk-axis.js","./chunk-line.js"],function(){"use strict";var k,w,j,$,D,F,L,T,h,_,z,m,g,P;return{setters:[function(t){k=t.t,w=t.c},function(t){j=t.s,$=t.m,D=t.l},function(t){F=t.s},function(t){L=t.d},function(t){T=t.aT},function(t){h=t.u,_=t.t},function(t){z=t.e},function(t){m=t.a,g=t.b},function(t){P=t.l}],execute:function(){var t=Object.defineProperty,H=Object.getOwnPropertyDescriptor,v=(a,e)=>t(a,"name",{value:e,configurable:!0}),S=(a,e,c,i)=>{for(var r=i>1?void 0:i?H(e,c):e,l=a.length-1,n;l>=0;l--)(n=a[l])&&(r=(i?n(e,c,r):n(r))||r);return i&&r&&t(e,c,r),r};async function O(a){return await await T(a,{headers:{accept:"application/json"}})}v(O,"fetchData");let u=class extends HTMLElement{async connectedCallback(){const a=this.graph,e=a.getAttribute("data-url");if(!!e){a.classList.add("is-graph-loading"),a.classList.remove("is-graph-load-error","is-graph-empty");try{const c=await O(e);a.classList.remove("is-graph-loading");const i=await c.json();new ResizeObserver(l=>{for(const n of a.querySelectorAll("svg.viz"))n.remove();for(const n of l)n.target===a&&A(a,i)}).observe(a)}catch(c){if(a.classList.remove("is-graph-loading"),c.message==="HTTP 404Not Found")a.classList.add("is-graph-empty");else throw a.classList.add("is-graph-load-error"),c}}}};v(u,"DiscussionsNewContributorsElement"),S([k],u.prototype,"graph",2),u=S([w],u);function A(a,e){const c=a.clientWidth,i=a.clientHeight,r={top:50,right:20,bottom:40,left:50},l=c-r.left-r.right,n=i-r.top-r.bottom,E=h("%B %-d %Y"),N=h("%-m/%-d"),x=L().attr("class","svg-tip").offset([-10,0]).html(function(s){return`<strong>${E(s.date)}</strong><br> ${s.value} contributors`}),d=j(a).append("svg").attr("class","viz").attr("width",c).attr("height",i).attr("alt","A graph of new contributors to discussions on this repository").attr("aria-describedby","discussions-new-contributors-description").append("g").attr("transform",`translate(${r.left},${r.top})`).call(x);let y="";for(const s of e){y+=`${s.name}: `;for(const o of s.data)y+=`${o.value} on ${N(o.date)} `}d.append("div").attr("text",y).attr("style","display: none;").attr("id","discussions-new-contributors-description");const[V,B]=z(e[0].data,s=>s.date);let b=0;for(const s of e)b=Math.max($(s.data,o=>o.value)||-1/0,b);const C=e[0].data.map(s=>s.date),p=F().domain([V,B]).range([0,l]);d.append("g").attr("transform",`translate(0, ${n})`).attr("class","tick-labels-x").call(m(p).tickSize(0).tickValues(C).tickFormat(_("%-m/%-d")));const f=D().domain([0,b]).range([n,0]);d.append("g").attr("class","tick-labels-y").call(g(f).ticks(4).tickSize(0)),d.append("g").attr("class","tick-y").call(g(f).ticks(4).tickSize(-l).tickFormat(()=>"")),d.append("g").attr("class","tick-x").attr("transform",`translate(0,${n})`).call(m(p).tickValues(C.slice(0,-1)).tickSize(-n).tickFormat(()=>"")),d.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",l/2).attr("y",i-r.top).text("Timeline"),d.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("x",-n/2).attr("y",-r.bottom-10).attr("dy","0.71em").style("text-anchor","middle").text("Quantity");for(const s of e)d.append("path").datum(s.data).attr("class",s.class).attr("d",P().x(function(o){return p(o.date)}).y(function(o){return f(o.value)}));for(const s of e)d.append("g").selectAll("dot").data(s.data).enter().append("circle").attr("cx",function(o){return p(o.date)}).attr("cy",function(o){return f(o.value)}).attr("r",5).attr("class",s.class).on("mouseover",x.show).on("mouseout",x.hide)}v(A,"render")}}});
//# sourceMappingURL=chunk-discussions-new-contributors-cc28b172.js.map
