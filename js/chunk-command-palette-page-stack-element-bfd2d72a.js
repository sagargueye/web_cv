System.register(["./chunk-command-palette-page-element.js","./chunk-command-palette-item-element.js","./chunk-vendor.js","./chunk-frameworks.js","./chunk-copy.js"],function(d){"use strict";var g,l,c,h,m;return{setters:[function(a){g=a.CommandPalettePageElement},function(a){l=a.e},function(a){c=a.i,h=a.b,m=a.c},function(){},function(){}],execute:function(){var a=Object.defineProperty,P=Object.getOwnPropertyDescriptor,f=(e,t)=>a(e,"name",{value:t,configurable:!0}),n=(e,t,r,o)=>{for(var i=o>1?void 0:o?P(t,r):t,u=e.length-1,p;u>=0;u--)(p=e[u])&&(i=(o?p(t,r,i):p(i))||i);return o&&i&&a(t,r,i),i};let s=d("CommandPalettePageStackElement",class extends HTMLElement{constructor(){super(...arguments);this.currentMode="",this.currentQueryText="",this.hasVisibleTip=!1,this.eventListenersBound=!1,this.octiconCache={}}get currentPage(){return this.pages[this.pages.length-1]}get nonRootPages(){return this.pages.filter(e=>!e.isRoot)}get scope(){return this.currentPage.isRoot?l.emptyScope:{text:this.currentPage.pageTitle,type:this.currentPage.scopeType,id:this.currentPage.scopeId,tokens:this.nonRootPages.map(e=>({text:e.pageTitle,type:e.scopeType,id:e.scopeId,value:e.pageTitle}))}}push(e={}){if(this.hasPageForProps(e))return;const t=new g(e);t.hasVisibleTip=this.hasVisibleTip,this.hideCurrentPages(),this.append(t),t.octicons=this.octiconCache,t.prefetch(),this.pageStackUpdated()}pop(){this.currentPage.isRoot||(this.removeChild(this.currentPage),this.activateCurrentPage())}clear(){for(const e of this.nonRootPages)this.removeChild(e);this.activateCurrentPage()}activateCurrentPage(){this.currentPage.hasVisibleTip=this.hasVisibleTip,this.currentPage.octicons=this.octiconCache,this.currentPage.reactivate(),this.pageStackUpdated()}hasPageForProps(e){return this.pages.some(t=>t.scopeId===e.scopeId)}hideCurrentPages(){for(const e of this.pages)e.hidden=!0}navigate(e){this.currentPage.navigate(e)}cacheLocalOcticons(){this.addOcticonsToCache(this.localOcticons.map(e=>({id:e.getAttribute("data-octicon-id"),svg:e.innerHTML.trim()}))),this.currentPage.octicons=this.octiconCache}addOcticonsToCache(e){for(const t of e)this.octiconCache[t.id]=t.svg}pageStackUpdated(){this.dispatchEvent(new CustomEvent("command-palette-page-stack-updated",{bubbles:!0}))}connectedCallback(){this.setAttribute("data-target","command-palette.pageStack"),this.addEventListener("command-palette-page-octicons-cached",e=>{e instanceof CustomEvent&&this.addOcticonsToCache(e.detail.octicons)}),this.cacheLocalOcticons()}attributeChangedCallback(e,t,r){if(t!==r)switch(e){case"data-current-mode":this.currentPage.mode=this.currentMode;break;case"data-current-query-text":this.currentPage.queryText=this.currentQueryText;break;case"data-has-visible-tip":this.currentPage.hasVisibleTip=this.hasVisibleTip;break}}disconnectedCallback(){this.unbindListeners()}bindListeners(){this.eventListenersBound||(window.addEventListener("resize",()=>this.currentPage.setMaxHeight()),this.eventListenersBound=!0)}unbindListeners(){window.removeEventListener("resize",()=>this.currentPage.setMaxHeight()),this.eventListenersBound=!1}});f(s,"CommandPalettePageStackElement"),n([c],s.prototype,"currentMode",2),n([c],s.prototype,"currentQueryText",2),n([c],s.prototype,"hasVisibleTip",2),n([h],s.prototype,"pages",2),n([h],s.prototype,"localOcticons",2),s=d("CommandPalettePageStackElement",n([m],s))}}});
//# sourceMappingURL=chunk-command-palette-page-stack-element-c380b2f0.js.map
