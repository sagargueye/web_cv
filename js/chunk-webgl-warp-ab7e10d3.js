System.register(["./chunk-three.module.js"],function(V){"use strict";var u,y,f,v,x,m,z,F,A,b,S,E,a,w,P,W,M,I,k,L,R,C,_,j;return{setters:[function(e){u=e.O,y=e.T,f=e.j,v=e.k,x=e.l,m=e.A,z=e.B,F=e.C,A=e.m,b=e.b,S=e.n,E=e.o,a=e.p,w=e.q,P=e.r,W=e.d,M=e.f,I=e.P,k=e.i,L=e.S,R=e.W,C=e.s,_=e.e,j=e.V}],execute:function(){var e=Object.defineProperty,p=(h,t)=>e(h,"name",{value:t,configurable:!0});const D=window,T=document.body,B=document.documentElement;class G{constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.count=8e3,this.acceleration=.03,this.accelerationTail=.005,this.hyperDelay=1e3,this.warplinesPos=100,this.geometry=null,this.group=null,this.ready=!1,this.stage=t}onInit(){this.group=new u,this.create(),this.ready=!0}onFrame(){if(this.ready&&this.hyper){for(let t=0;t<this.count;t++){const i=this.geometry.getAttribute("position").array,s=this.geometry.getAttribute("velocity").array,r=2*t,n=2*t+1,o=6*t+2,d=6*t+5;if(s[r]+=this.acceleration,s[n]+=this.acceleration-this.accelerationTail,i[o]+=s[r],i[d]+=s[n],i[d]>this.warplinesPos){const c=a.randFloatSpread(500);i[o]=c,i[d]=c,s[r]=0,s[n]=0}}this.geometry.getAttribute("position").needsUpdate=!0}}create(){this.geometry=new S,this.geometry.setAttribute("position",new w(new Float32Array(6*this.count),3)),this.geometry.setAttribute("velocity",new w(new Float32Array(2*this.count),1));for(let s=0;s<this.count;s++){const r=a.randFloatSpread(400),n=a.randFloatSpread(200),o=a.randFloatSpread(500),d=r,c=n,Y=o,l=this.geometry.getAttribute("position").array,U=this.geometry.getAttribute("velocity").array,g=s*6;l[g]=r,l[g+1]=n,l[g+2]=o,l[g+3]=d,l[g+4]=c,l[g+5]=Y,U[2*s]=U[2*s+1]=0}const t=new C({color:16777215}),i=new _(this.geometry,t);this.group.add(i)}hyperStart(){this.hyper=!0,this.stage.scene.add(this.group)}hyperStop(){setTimeout(()=>{this.hyper=!1,this.stage.scene.remove(this.group)},this.hyperDelay)}}p(G,"Warplines");class H{constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.group=null,this.texture=null,this.ease=10,this.hyperDelay=1e3,this.hype={normalize:.001,scale:.15,speed:6.26},this.ready=!1,this.hyper=!1,this.stage=t}onFrame(){if(!this.ready||!this.hyper||!this.texture)return;const{hype:t,stage:i}=this;this.texture.offset.y-=t.normalize*t.speed,this.texture.needsUpdate=!0,this.group.scale.set(t.scale,t.scale,1);const{rotation:s,position:r}=i.camera;this.group.rotation.set(s.x,s.y,s.z),this.group.position.set(r.x,r.y,r.z),this.group.rotation.z-=.008}onInit(){this.create(),this.ready=!0}create(){this.group=new u,this.group.position.z=this.stage.camera.position.z;const t=new y;this.texture=t.load("/images/modules/signup/launch_codes/wormhole.jpg"),this.texture.wrapT=f,this.texture.wrapS=f;const i=new v(100,0,300,40,40,!0),s=new x({color:16777215,opacity:1,map:this.texture,blending:m,side:z,transparent:!0,depthTest:!0}),r=new F;r.setHSL(Math.random(),1,.8);const n=new A(r,4,100);n.position.set(0,0,0);const o=new b(i,s);o.position.set(0,0,0),o.rotation.x=Math.PI/2,this.group.add(o),this.group.add(n)}hyperStart(){this.hyper=!0,setTimeout(()=>{this.stage.scene.add(this.group)},this.hyperDelay)}hyperStop(){setTimeout(()=>{this.hyper=!1},this.hyperDelay)}}p(H,"Wormhole");class O{constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.total=600,this.spread=2e3,this.size=25,this.destinationSize=75,this.distance=-3e3,this.destinationPos=200,this.hyperDistance=5e3,this.hyperEnd=this.hyperDistance-this.distance-this.destinationPos,this.ease=15,this.move={x:0,y:0,z:this.distance},this.look={x:0,y:0,z:0},this.group=null,this.ready=!1,this.hyper=!1,this.stage=t}onInit(){this.group=new u,this.group.position.set(this.move.x,this.move.y,this.move.z-this.hyperDistance),this.group.rotation.set(this.look.x,this.look.y,this.look.z),this.create(),this.ready=!0}onFrame(){this.ready&&this.group&&(this.group.position.z+=(this.move.z-this.group.position.z)/this.ease)}create(){const t=new S,s=new y().load("/images/modules/signup/launch_codes/star.png"),r=new E({size:this.size,color:16777215,opacity:.8,blending:m,transparent:!0,map:s}),n=new Float32Array((this.total+1)*3),o=new j;for(let c=0;c<this.total;c++)o.x=a.randFloatSpread(this.spread),o.y=a.randFloatSpread(this.spread),o.z=a.randFloatSpread(this.hyperEnd),o.toArray(n,c*3);t.setAttribute("position",new w(n,3));const d=new P(t,r);this.group.add(d)}createLandingStar(){const i=new y().load("/images/modules/signup/launch_codes/star.png"),s=new W(this.destinationSize,32),r=new M({color:16777215,opacity:1,blending:m,transparent:!1,map:i}),n=new b(s,r);return n.position.set(0,0,this.destinationPos),n}hyperStart(){this.stage.scene.add(this.group),this.move={x:0,y:0,z:this.distance},this.group.scale.set(.75,.75,1),this.ease+=100,this.move.z-=this.hyperDistance,this.hyper=!0;const t=this.createLandingStar();this.group.add(t)}hyperStop(){this.group.scale.set(1,1,1.99),this.ease-=100,this.move.z+=this.hyperEnd,this.hyper=!1}}p(O,"Starfield");class q{constructor(t,i){this.triggerEvent=this.triggerEvent.bind(this),this.drawFrame=this.drawFrame.bind(this),this.onResize=this.onResize.bind(this),this.init=this.init.bind(this),this.objects=[new O(this),new H(this),new G(this)],this.width=0,this.height=0,this.ease=20,this.move={x:0,y:0,z:200},this.look={x:0,y:0,z:0},this.id=t,this.renderer=this.resolveRenderer(i||{}),this.camera=new I(60,window.innerWidth/window.innerHeight,.1,1e4),this.light=new k(16777215,1,3e3,.4,.5,1),this.scene=new L,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.sortObjects=!1,this.camera.position.set(this.move.x,this.move.y,this.move.z),this.camera.rotation.set(this.look.x,this.look.y,this.look.z),this.camera.lookAt(this.scene.position),this.light.position.set(this.move.x,this.move.y,this.move.z),this.scene.add(this.light),this.ready=!0}resolveRenderer(t){return t=t||{},new R(t)}triggerEvent(t){if(this.ready)for(const i of this.objects)typeof i[t]=="function"&&i[t].call(i)}drawFrame(){this.ready&&(this.triggerEvent("onFrame"),this.renderer.render(this.scene,this.camera)),requestAnimationFrame(this.drawFrame)}screenInfo(){const t=Math.max(0,D.innerWidth||B.clientWidth||T.clientWidth||0),i=Math.max(0,D.innerHeight||B.clientHeight||T.clientHeight||0);return{width:t,height:i,ratio:t/i,centerX:t/2,centerY:i/2}}onResize(){const t=this.screenInfo();this.width=t.width,this.height=t.height,this.ready&&(this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix())}hyperStart(){this.triggerEvent("hyperStart")}hyperStop(){this.triggerEvent("hyperStop")}init(){var t;this.renderer&&this.renderer.domElement&&(this.renderer.domElement.setAttribute("id",this.id),(t=document.querySelector(".js-signup-warp-bg"))==null||t.appendChild(this.renderer.domElement)),this.onResize(),this.triggerEvent("onInit"),this.drawFrame(),window.addEventListener("resize",()=>this.onResize())}}p(q,"WarpStage");const X=p(()=>{try{const h=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(h.getContext("webgl")||h.getContext("experimental-webgl")))}catch{return!1}},"webglSupport"),J=function(h){return V({stageSetup:h,default:h}),h}(p(()=>{if(X())return new q("warp-stage",{alpha:!0,antialias:!0,precision:"mediump"})},"stageSetup"))}}});
//# sourceMappingURL=chunk-webgl-warp-074812e1.js.map
