System.register(["./chunk-vendor.js","./chunk-tip.js","./chunk-frameworks.js","./chunk-traffic.js","./chunk-array.js","./chunk-linear.js","./chunk-time.js","./chunk-format-symbol.js","./chunk-axis.js","./chunk-line.js","./chunk-extent.js","./chunk-min.js","./chunk-pointer.js"],function(){"use strict";var p,l,d,m,g,v,w,j,k;return{setters:[function(n){p=n.a5,l=n.t,d=n.c},function(n){m=n.d},function(n){g=n.m,v=n.aT},function(n){w=n.r},function(n){j=n.u},function(n){k=n.f},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var n=Object.defineProperty,y=Object.getOwnPropertyDescriptor,u=(t,s)=>n(t,"name",{value:s,configurable:!0}),h=(t,s,e,r)=>{for(var i=r>1?void 0:r?y(s,e):s,c=t.length-1,a;c>=0;c--)(a=t[c])&&(i=(r?a(s,e,i):a(i))||i);return r&&i&&n(s,e,i),i};const L=g(b);async function b(t){return await(await v(t,{headers:{accept:"application/json"}})).json()}u(b,"fetchData");let o=class extends HTMLElement{async connectedCallback(){const t=this.graph,s=t.getAttribute("data-url");if(!s)return;for(const r of t.querySelectorAll("svg.viz"))r.remove();t.classList.add("is-graph-loading"),t.classList.remove("is-graph-load-error","is-graph-empty");let e;try{e=await L(s),t.classList.remove("is-graph-loading"),e!=null&&e.unusable?t.classList.add("is-graph-without-usable-data"):e!=null&&e.length===0||e!=null&&e.summary!=null&&e.summary.total===0||e[0]!=null&&e[0].weeks!=null&&e[0].weeks.length===0?t.classList.add("is-graph-empty"):f(this.container,e)}catch(r){throw t.classList.remove("is-graph-loading"),t.classList.add("is-graph-load-error"),r}this.throttledRender=p(()=>f(this.container,e),100),window.addEventListener("resize",this.throttledRender)}disconnectedCallback(){window.removeEventListener("resize",this.throttledRender)}};u(o,"MarketplaceInsightsGraphElement"),h([l],o.prototype,"graph",2),h([l],o.prototype,"container",2),o=h([d],o);function f(t,s){const e=j("%A, %B %-d, %Y"),r=k(","),i=m().attr("class","svg-tip web-views comparison").offset([-10,0]).html(a=>{const _=a.total===1?"view":"views",q=a.unique===1?"unique visitor":"unique visitors";return`<span class='title'>${e(a.date)}</span> <ul class='web-views'> <li class='totals metric-0'><strong>${r(a.total)}</strong> ${_}</li> <li class='uniques metric-1'><strong>${r(a.unique)}</strong> ${q}</li> </ul>`}),c={width:t.clientWidth,height:t.clientHeight,margin:{top:20,right:40,bottom:30,left:30}};w(t,s,i,c)}u(f,"render")}}});
//# sourceMappingURL=chunk-marketplace-insights-graph-element-277fd1d4.js.map
