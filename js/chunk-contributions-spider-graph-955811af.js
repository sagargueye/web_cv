System.register(["./chunk-frameworks.js","./chunk-vendor.js"],function(Dt){"use strict";var ct;return{setters:[function(V){ct=V.H},function(){}],execute:function(){Dt("initializeOverviewGraphContainer",ht);var V=Object.defineProperty,s=(n,e)=>V(n,"name",{value:e,configurable:!0});function lt(n){let e=0;for(const t of n){const p=t.getBoundingClientRect();p.width>e&&(e=p.width)}return e}s(lt,"maxWidthOf");function gt(n,e){return n.length<e.length?-1:n.length>e.length?1:n.localeCompare(e)}s(gt,"labelSort");function _(n,e){const t=n.getBoundingClientRect();return(e.getBoundingClientRect().width-t.width)/2}s(_,"percentElOffset");function at(n,e){const t=n.querySelector(".js-activity-overview-graph");if(!t)return;const p=t.querySelector(".js-highlight-blob"),i=10,Ht=250,Yt=Math.floor(n.clientWidth),f=Math.max(Yt,Ht),v=f,g=t.querySelector(".js-highlight-label-top"),S=t.querySelector(".js-highlight-label-bottom"),a=t.querySelector(".js-highlight-label-right"),h=t.querySelector(".js-highlight-label-left"),m=t.querySelector(".js-highlight-percent-top"),x=t.querySelector(".js-highlight-percent-bottom"),u=t.querySelector(".js-highlight-percent-right"),b=t.querySelector(".js-highlight-percent-left"),j=t.querySelector(".js-highlight-x-axis"),C=t.querySelector(".js-highlight-y-axis"),J=t.querySelector(".js-highlight-top-ellipse"),Z=t.querySelector(".js-highlight-right-ellipse"),F=t.querySelector(".js-highlight-bottom-ellipse"),I=t.querySelector(".js-highlight-left-ellipse"),ut=n.querySelector(".js-activity-overview-graph-spinner"),K=t.querySelector("g");K.removeAttribute("transform"),t.classList.remove("d-none"),t.classList.add("d-block"),ut.classList.remove("d-block"),ut.classList.add("d-none"),g.innerHTML="",a.innerHTML="",S.innerHTML="",h.innerHTML="",m.innerHTML="&nbsp;",u.innerHTML="&nbsp;",x.innerHTML="&nbsp;",b.innerHTML="&nbsp;";const bt=Object.keys(e.percentages).sort(gt),[Q,U]=bt.slice(0,2).sort(),[tt,et]=bt.slice(2,4).sort(),nt=e.percentages[tt],q=e.percentages[U],M=e.percentages[et],T=e.percentages[Q];let it=null;const E=s((d,wt)=>{const st=e.percentages[d];if(st>0)return it=wt,`${st}%`},"percentageLabel"),dt=E(tt,m);dt&&(m.textContent=dt);const pt=E(U,u);pt&&(u.textContent=pt);const ft=E(et,x);ft&&(x.textContent=ft);const St=E(Q,b);St&&(b.textContent=St);const mt=f/2,xt=f/2;g.appendChild(document.createTextNode(tt)),g.setAttribute("dx",mt.toString()),S.appendChild(document.createTextNode(et)),S.setAttribute("dx",xt.toString()),m.setAttribute("dx",mt.toString()),x.setAttribute("dx",xt.toString());const c=g.getBoundingClientRect().height;let w=0;it&&(w=it.getBoundingClientRect().height);let D=v/2+c/4,H=v/2+c/4;T>0&&(D=D+w/2+i/4),q>0&&(H=H+w/2+i/4),h.appendChild(document.createTextNode(Q)),h.setAttribute("dy",D.toString()),a.appendChild(document.createTextNode(U)),a.setAttribute("dy",H.toString());const Ot=D-c,Xt=H-c;b.setAttribute("dy",Ot.toString()),u.setAttribute("dy",Xt.toString());let Y=nt/100,O=M/100,X=T/100,W=q/100;const yt=0,Wt=1,Rt=Math.max(Y,O,X,W),R=s(d=>(Wt-yt)*d/Rt+yt,"scaleAxisPercentage");Y=R(Y),O=R(O),X=R(X),W=R(W);const Bt=lt([h,a,g,S])+i,o=4,B=Math.max(Bt,c),l=f/2,r=v/2,At=l,$=B,Lt=l,ot=v-B,k=B,Pt=r,rt=f-B,vt=r,jt=l-k,Ct=r-$;let y=$+(1-Y)*Ct,A=Math.max(ot-(1-O)*Ct,r),L=k+(1-X)*jt,P=rt-(1-W)*jt;j.setAttribute("x1",k.toString()),j.setAttribute("y1",r.toString()),j.setAttribute("x2",rt.toString()),j.setAttribute("y2",r.toString()),C.setAttribute("x1",l.toString()),C.setAttribute("y1",$.toString()),C.setAttribute("x2",l.toString()),C.setAttribute("y2",ot.toString()),y+o<r&&(y=y+o),A-o>r&&(A=A-o),L+o<l&&(L=L+o),P-o>l&&(P=P-o);const qt=$-i,Mt=rt+i;let z=ot+i+i*.8;M>0&&(z=z+w);const Tt=k-(i+i*.2);g.setAttribute("dy",qt.toString()),a.setAttribute("dx",Mt.toString()),S.setAttribute("dy",z.toString()),h.setAttribute("dx",Tt.toString());const $t=Tt-_(b,h),kt=Mt+_(u,a);b.setAttribute("dx",$t.toString()),u.setAttribute("dx",kt.toString());const zt=qt-c,Gt=z-c;m.setAttribute("dy",zt.toString()),x.setAttribute("dy",Gt.toString());const G=2;nt===0?J.classList.add("d-none"):(J.setAttribute("cx",At.toString()),J.setAttribute("cy",(y-G).toString())),q===0?Z.classList.add("d-none"):(Z.setAttribute("cx",(P+G).toString()),Z.setAttribute("cy",vt.toString())),M===0?F.classList.add("d-none"):(F.setAttribute("cx",Lt.toString()),F.setAttribute("cy",(A+G).toString())),T===0?I.classList.add("d-none"):(I.setAttribute("cx",(L-G).toString()),I.setAttribute("cy",Pt.toString()));const N=K.getBoundingClientRect(),Et=t.getBoundingClientRect(),Nt=0-(N.top-Et.top),Vt=0-(N.left-Et.left);K.setAttribute("transform",`translate(${Vt}, ${Nt})`);const _t=Math.ceil(N.width),Jt=Math.ceil(N.height);t.setAttribute("width",_t.toString()),t.setAttribute("height",Jt.toString());const Zt=[[P,vt],[Lt,A],[L,Pt]].map(d=>`L${d[0]},${d[1]}`).join(" "),Ft=`M${At},${y} ${Zt} z`;nt+q+M+T!==0&&p.setAttribute("d",Ft)}s(at,"displaySpiderGraph");async function ht(n){await ct;const e=n.getAttribute("data-percentages"),t={percentages:JSON.parse(e)};at(n,t)}s(ht,"initializeOverviewGraphContainer")}}});
//# sourceMappingURL=chunk-contributions-spider-graph-6b3dd643.js.map
