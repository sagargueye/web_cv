System.register(["./chunk-vendor.js"],function(p){"use strict";var d,g;return{setters:[function(f){d=f.t,g=f.c}],execute:function(){var f=Object.defineProperty,P=Object.getOwnPropertyDescriptor,a=(e,t)=>f(e,"name",{value:t,configurable:!0}),m=(e,t,i,r)=>{for(var o=r>1?void 0:r?P(t,i):t,s=e.length-1,n;s>=0;s--)(n=e[s])&&(o=(r?n(t,i,o):n(o))||o);return r&&o&&f(t,i,o),o};let u=p("EmojiPickerElement",class extends HTMLElement{open(){var e;this.hidden=!1,(e=this.filterInput)==null||e.focus(),document.addEventListener("keydown",j),document.addEventListener("click",E)}close(){this.hidden=!0,document.removeEventListener("keydown",j),document.removeEventListener("click",E)}disonnectedCallback(){document.removeEventListener("keydown",j)}reset(){const e=this.querySelector(".js-original-emoji-category"),t=this.querySelector(".js-original-emoji-category-tab"),i=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]'),r=h(this),o=this.querySelector(".js-originally-selected-emoji");if(o){const s=this.querySelector(".selected-emoji");s&&s.classList.remove("selected-emoji"),o.classList.add("selected-emoji")}i==null||i.removeAttribute("aria-selected"),e==null||e.setAttribute("aria-selected","true"),r.hidden=!0,t.hidden=!1,this.clear()}clear(){this.filterInput&&(this.filterInput.value=""),this.emojiList.setAttribute("value",""),this.filterTabButton.hidden=!0}filter(e){const t=e.currentTarget;this.emojiList.setAttribute("value",t.value);const i=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]');if(i.hasAttribute("data-emoji-picker-filter-tab-button")||i.classList.add("emoji-picker-prior-selected-tab-button"),t.value)this.filterTabButton.hidden=!1,this.filterTabButton.getAttribute("aria-selected")==="true"||(this.filterTabButton.click(),t.focus());else{this.filterTabButton.hidden=!0;const r=this.querySelector(".emoji-picker-prior-selected-tab-button");r&&r.click()}}onFuzzyListSorted(e){const t=Number(e.detail)>0;this.noResults.hidden=t,this.emojiList.hidden=!t,this.resultsHeader.hidden=!t}onEmojiTabClick(){this.clear(),setTimeout(()=>{var e;return(e=this.filterInput)==null?void 0:e.focus()},0)}});a(u,"EmojiPickerElement"),m([d],u.prototype,"emojiList",2),m([d],u.prototype,"filterTabButton",2),m([d],u.prototype,"noResults",2),m([d],u.prototype,"resultsHeader",2),m([d],u.prototype,"filterInput",2),u=p("EmojiPickerElement",m([g],u));function h(e){const t=e.querySelectorAll('[role="tablist"] [role="tab"]'),i=e.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]'),r=e.querySelectorAll('[role="tabpanel"]'),o=Array.from(t).indexOf(i);return r[o]}a(h,"getActiveEmojiTab");function v(e){let t,i=0;const o=e[0].getBoundingClientRect().top;for(const s of e){if(t=s.getBoundingClientRect(),o<t.top)break;i+=1}return i}a(v,"getEmojiColCount");function k(e,t){const i=[[]];let r=0;for(let o=0;o<e.length;o++){const s=e[o];o>0&&o%t===0&&(r+=1,i.push([])),i[r].push(s)}return i}a(k,"createEmojiGrid");function y(e,t){let i=0,r=0,o=[],s=-1;for(let n=0;n<e.length;n++){if(o=e[n],s=o.indexOf(t),s>-1){r=s;break}i+=1}return{row:i,col:r}}a(y,"getEmojiGridPosition");function w(e,t){const i=h(e),r=Array.from(i.querySelectorAll(".js-emoji-button")),o=i.querySelector(".selected-emoji.js-emoji-button"),s=v(r),n=k(r,s);let l=0,c=0;if(o){const S=y(n,o);switch(l=S.row,c=S.col,o.classList.remove("selected-emoji"),t){case"ArrowRight":c+=1;break;case"ArrowDown":l+=1;break;case"ArrowLeft":c-=1;break;case"ArrowUp":l-=1;break}}const b=n.length-1,T=c>n[b].length-1,B=l===b,q=t==="ArrowDown";l<0?(l=b,T&&(l-=1)):(l>b||B&&T&&q)&&(l=0);const L=n[l].length-1;c<0?c=L:c>L&&(c=0);const A=n[l][c];A.classList.add("selected-emoji"),A.focus()}a(w,"selectEmoji");function j(e){if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".js-emoji-picker");if(!(!t||!(t instanceof HTMLElement)||t.hidden))switch(e.key){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":e.preventDefault(),w(t,e.key);break}}a(j,"navigateEmojiInPicker");function E(e){let t=e.target;"closest"in t||(t=t.parentNode);const i=t.closest("emoji-picker");for(const r of document.querySelectorAll("emoji-picker"))r!==i&&r.close()}a(E,"handleNonEmojiPickerClick")}}});
//# sourceMappingURL=chunk-emoji-picker-element-5e4d317b.js.map
