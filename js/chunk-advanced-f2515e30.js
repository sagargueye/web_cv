System.register(["./chunk-frameworks.js","./chunk-vendor.js"],function(){"use strict";var m,y,h,v;return{setters:[function(s){m=s.A,y=s.o},function(s){h=s.a,v=s.o}],execute:function(){var s=Object.defineProperty,a=(e,t)=>s(e,"name",{value:t,configurable:!0});function j(e){let n=new URLSearchParams(window.location.search).get("type")||"Repositories",r=0;for(const c in e)e[c]>r&&(r=e[c],n=c);return n}a(j,"searchType");function x({prefix:e,value:t}){return e===""?"":t?`${e}${t}`:""}a(x,"termToken");function u(){const e=Array.from(document.querySelectorAll("input[type=text].js-advanced-search-prefix")),t=Array.from(document.querySelectorAll("select.js-advanced-search-prefix")),n=Array.from(document.querySelectorAll(".js-advanced-search-prefix:checked")),r=[...i(e),...i(t),...i(n)],c=r.reduce((l,o)=>(o.value&&o.type&&l[o.type]++,l),{Repositories:0,Users:0,Code:0,Issues:0}),d=r.reduce((l,o)=>`${l} ${x(o)}`.trim(),""),b=document.querySelector(".js-advanced-search-input").value;document.querySelector(".js-type-value").value=j(c),document.querySelector(".js-search-query").value=`${b} ${d}`.trim();const p=document.querySelector(".js-advanced-query");p.innerHTML="",p.textContent=d;const k=document.createElement("span");k.textContent=b.trim(),p.prepend(k," ")}a(u,"buildQuery");function f(e){return e.search(/\s/g)!==-1?`"${e}"`:e}a(f,"wrap");function i(e){return e.map(t=>{const n=t.value.trim(),r=t.getAttribute("data-search-prefix"),c=t.getAttribute("data-search-type");return r===""?{prefix:r,value:n,type:c}:n.search(/,/g)!==-1&&r!=="location"?n.split(/,/).map(d=>({prefix:r,value:f(d.trim()),type:c})):{prefix:r,value:f(n),type:c}}).flatMap(t=>t)}a(i,"terms"),m(".js-advanced-search-prefix",function(){u()}),h("change",".js-advanced-search-prefix",u),y(".js-advanced-search-input",function(e){const t=e.closest(".js-advanced-search-label");t.classList.add("focus"),e.addEventListener("blur",()=>t.classList.remove("focus"),{once:!0})}),v(".js-advanced-search-input",function(){u()})}}});
//# sourceMappingURL=chunk-advanced-c23eb429.js.map
